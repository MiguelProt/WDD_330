let products=[];function convertToJson(e){if(e.ok)return e.json();throw new Error("Bad Response")}function setLocalStorage(e,o){localStorage.setItem(e,JSON.stringify(o)),console.log(JSON.parse(localStorage.getItem(e)))}function getProductsData(){fetch("../json/tents.json").then(convertToJson).then(e=>{products=e})}function addToCart(e){const o=products.find(n=>n.Id===e.target.dataset.id);setLocalStorage("so-cart",o),console.log(JSON.parse(localStorage.getItem("so-cart")))}document.getElementById("addToCart").addEventListener("click",addToCart),function(){const e=window.location.search,o=new URLSearchParams(e),n=o.get("id");getProductsData(),setTimeout(()=>{products.forEach(t=>{if(t.Id==n){let c=document.querySelector(".product-brand"),a=document.querySelector(".product-name"),r=document.querySelector(".product-img"),l=document.querySelector(".product-card__price"),s=document.querySelector(".product__color"),d=document.querySelector(".product__description"),i=document.querySelector("#addToCart");console.log(t),c.textContent=t.Brand.Name,a.textContent=t.NameWithoutBrand,r.setAttribute("src",t.Image),r.setAttribute("alt",t.Name),l.textContent=`$${t.ListPrice}`,t.Colors.length>0&&(s.textContent=t.Colors[0].ColorName),d.innerHTML=t.DescriptionHtmlSimple,i.dataset.id=t.Id}})},250)}();
