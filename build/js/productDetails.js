var l=(n,t,r)=>new Promise((c,o)=>{var i=e=>{try{d(r.next(e))}catch(u){o(u)}},a=e=>{try{d(r.throw(e))}catch(u){o(u)}},d=e=>e.done?c(e.value):Promise.resolve(e.value).then(i,a);d((r=r.apply(n,t)).next())});import{setLocalStorage as s}from"./utils.js";export default class m{constructor(t,r){this.productId=t,this.product={},this.dataSource=r}init(){return l(this,null,function*(){this.product=yield this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addToCart.bind(this))})}addToCart(){s("so-cart",this.product)}renderProductDetails(){let t=this.product;if(t.Id==this.productId){let r=document.querySelector(".product-brand"),c=document.querySelector(".product-name"),o=document.querySelector(".product-img"),i=document.querySelector(".product-card__price"),a=document.querySelector(".product__color"),d=document.querySelector(".product__description"),e=document.querySelector("#addToCart");console.log(t),r.textContent=t.Brand.Name,c.textContent=t.NameWithoutBrand,o.setAttribute("src",t.Image),o.setAttribute("alt",t.Name),i.textContent=`$${t.ListPrice}`,t.Colors.length>0&&(a.textContent=t.Colors[0].ColorName),d.innerHTML=t.DescriptionHtmlSimple,e.dataset.id=t.Id}}}
